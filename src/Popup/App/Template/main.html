<!-- 
  @var currentNotObserved?: boolean
  @var currentTab?:         chrome.tabs.Tab
  @var observedTabs:        TabInfo[]
  /*
   *  id:           number,
   *  status:       "idle" | "searching"
   *  searchStatus: boolean
   *  isFound:      boolean
   */
-->
<h1 class="h2 mt-4 text-center text-primary">
  Welcome To Relay Automation!
</h1>
<h2 class="mt-2 h4 text-center text-secondary">
  Configure the extension and start booking automatically
</h2>
<div class="container my-2">
  <hr />
  {{ #currentNotObserved }}
    <div class="row">    
      <span class="text-secondary d-block mx-auto">The current tab is not observed!</span>
    </div>
    <div class="row">
      <button id="addCurrentButton" type="button" class="mt-1 mb-2 btn btn-primary px-4 mx-auto">Add the button to observed list with id: {{ currentTab.id }}</button>
    </div>
  {{ /currentNotObserved }}
  <div class="row row-cols-2">
    {{ #observedTabs }}
      <div class="col mb-2">
        <div class="border border-primary p-2">
          <h5>Tab Id: {{ id }}</h5>
          <span>Status: {{ status }} 
            {{ #isFound }}<span style="background-color: red; width: 15px; height: 15px; border-radius: 100%; display: inline-block;"></span>{{ /isFound }}
          </span>
          <div class="actions row row-col-2 mt-2">
            <div class="w-100 text-center mb-2">Search</div>
            <div class="col">
              <button class="btn btn-primary w-100 tab-start-btn" data-tab-id={{ id }}
                {{#searchStatus}}disabled="disabled" title="Already Searching"{{/searchStatus}}
              >Start</button>
            </div>
            <div class="col">
              <button class="btn btn-primary w-100 tab-stop-btn" data-tab-id={{ id }} 
                {{^searchStatus}}disabled="disabled"{{/searchStatus}}
              >Stop</button>
            </div>
          </div>
          <hr />
          <button class="btn btn-primary w-100 tab-remove-btn" data-tab-id={{ id }}
            {{#searchStatus}}disabled="disabled" title="Please stop the search before remove"{{/searchStatus}}
          >Remove</button>
          <button class="btn btn-primary w-100 tab-switch-btn mt-1" data-tab-id={{ id }}>Switch</button>
        </div>
      </div>    
    {{ /observedTabs }}
  </div>
</div>
